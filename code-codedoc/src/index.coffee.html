<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Controller</title>
    <meta name="HandheldFriendly" content="true" />
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/highlight.js/8.5.0/styles/solarized_light.min.css" /><style type="text/css">#topnav .navbar-nav{margin-top:8px}.navbar{min-width:300px}.nav>li{padding:2px 12px}.navbar-inverse .navbar-nav>li>a{color:#222;font-weight:bold}.navbar-spacer{height:51px}.btn-warning:active,.btn-primary:active{-webkit-transform:scale(.92);-moz-transform:scale(.92);-o-transform:scale(.92);-ms-transform:scale(.92);transform:scale(.92)}.btn-warning{background:#f2b560;background:#ee9f31 -webkit-linear-gradient(270deg, #f2b560, #ee9f31) repeat-x;background:#ee9f31 -moz-linear-gradient(270deg, #f2b560, #ee9f31) repeat-x;background:#ee9f31 -o-linear-gradient(270deg, #f2b560, #ee9f31) repeat-x;background:#ee9f31 -ms-linear-gradient(270deg, #f2b560, #ee9f31) repeat-x;background:#ee9f31 linear-gradient(180deg, #f2b560, #ee9f31) repeat-x}.btn-primary{background:#3d88c9;background:#2e6ea5 -webkit-linear-gradient(270deg, #3d88c9, #2e6ea5) repeat-x;background:#2e6ea5 -moz-linear-gradient(270deg, #3d88c9, #2e6ea5) repeat-x;background:#2e6ea5 -o-linear-gradient(270deg, #3d88c9, #2e6ea5) repeat-x;background:#2e6ea5 -ms-linear-gradient(270deg, #3d88c9, #2e6ea5) repeat-x;background:#2e6ea5 linear-gradient(180deg, #3d88c9, #2e6ea5) repeat-x}.navbar-inverse .navbar-nav>li>a:focus,.navbar-inverse .navbar-nav>li>a:hover{background:#73aad8;background:#4b91cd -webkit-linear-gradient(270deg, #73aad8, #4b91cd) repeat-x;background:#4b91cd -moz-linear-gradient(270deg, #73aad8, #4b91cd) repeat-x;background:#4b91cd -o-linear-gradient(270deg, #73aad8, #4b91cd) repeat-x;background:#4b91cd -ms-linear-gradient(270deg, #73aad8, #4b91cd) repeat-x;background:#4b91cd linear-gradient(180deg, #73aad8, #4b91cd) repeat-x}.navbar-inverse .navbar-nav>li>a.btn-warning:focus,.navbar-inverse .navbar-nav>li>a.btn-warning:hover{background:#ec9721;background:#c97c11 -webkit-linear-gradient(270deg, #ec9721, #c97c11) repeat-x;background:#c97c11 -moz-linear-gradient(270deg, #ec9721, #c97c11) repeat-x;background:#c97c11 -o-linear-gradient(270deg, #ec9721, #c97c11) repeat-x;background:#c97c11 -ms-linear-gradient(270deg, #ec9721, #c97c11) repeat-x;background:#c97c11 linear-gradient(180deg, #ec9721, #c97c11) repeat-x}.sidebar .nav{list-style:disc;padding-left:30px;}.sidebar .nav>li{display:list-item;}.sidebar .nav>li>a{color:#222;}.sidebar .nav>li>a:active{-webkit-box-shadow:0 2px 10px 2px rgba(0,0,0,0.25);box-shadow:0 2px 10px 2px rgba(0,0,0,0.25)}.sidebar .nav>li>a:hover{background:#3d88c9;background:#2e6ea5 -webkit-linear-gradient(270deg, #3d88c9, #2e6ea5) repeat-x;background:#2e6ea5 -moz-linear-gradient(270deg, #3d88c9, #2e6ea5) repeat-x;background:#2e6ea5 -o-linear-gradient(270deg, #3d88c9, #2e6ea5) repeat-x;background:#2e6ea5 -ms-linear-gradient(270deg, #3d88c9, #2e6ea5) repeat-x;background:#2e6ea5 linear-gradient(180deg, #3d88c9, #2e6ea5) repeat-x;color:#fff}.sidebar .nav>li.header,.sidebar .nav>li.active{display:none}.sidebar .nav>li.active>a{background:#73aad8;background:#4b91cd -webkit-linear-gradient(270deg, #73aad8, #4b91cd) repeat-x;background:#4b91cd -moz-linear-gradient(270deg, #73aad8, #4b91cd) repeat-x;background:#4b91cd -o-linear-gradient(270deg, #73aad8, #4b91cd) repeat-x;background:#4b91cd -ms-linear-gradient(270deg, #73aad8, #4b91cd) repeat-x;background:#4b91cd linear-gradient(180deg, #73aad8, #4b91cd) repeat-x;}.sidebar .nav>li.active>a:hover{background:#3d88c9;background:#2e6ea5 -webkit-linear-gradient(270deg, #3d88c9, #2e6ea5) repeat-x;background:#2e6ea5 -moz-linear-gradient(270deg, #3d88c9, #2e6ea5) repeat-x;background:#2e6ea5 -o-linear-gradient(270deg, #3d88c9, #2e6ea5) repeat-x;background:#2e6ea5 -ms-linear-gradient(270deg, #3d88c9, #2e6ea5) repeat-x;background:#2e6ea5 linear-gradient(180deg, #3d88c9, #2e6ea5) repeat-x;color:#fff}.sidebar .nav>li.header>a{font-weight:bold;background:#f2b560;background:#ee9f31 -webkit-linear-gradient(270deg, #f2b560, #ee9f31) repeat-x;background:#ee9f31 -moz-linear-gradient(270deg, #f2b560, #ee9f31) repeat-x;background:#ee9f31 -o-linear-gradient(270deg, #f2b560, #ee9f31) repeat-x;background:#ee9f31 -ms-linear-gradient(270deg, #f2b560, #ee9f31) repeat-x;background:#ee9f31 linear-gradient(180deg, #f2b560, #ee9f31) repeat-x;}.sidebar .nav>li.header>a:hover{background:#ec9721;background:#c97c11 -webkit-linear-gradient(270deg, #ec9721, #c97c11) repeat-x;background:#c97c11 -moz-linear-gradient(270deg, #ec9721, #c97c11) repeat-x;background:#c97c11 -o-linear-gradient(270deg, #ec9721, #c97c11) repeat-x;background:#c97c11 -ms-linear-gradient(270deg, #ec9721, #c97c11) repeat-x;background:#c97c11 linear-gradient(180deg, #ec9721, #c97c11) repeat-x;color:#fff}.sidebar .nav>li.level1>a{padding-left:20px}.sidebar .nav>li.level2>a{padding-left:25px}.sidebar .nav>li.level3>a,.sidebar .nav>li.level4>a,.sidebar .nav>li.level5>a{padding-left:30px}@media (min-width:768px){#topnav .nav>li{padding:0 4px}.navbar-right{margin-right:0}.navbar-nav >li>a{padding:6px 10px}.sidebar{overflow:auto;position:fixed;top:51px;left:0;bottom:0;background:#ddd;padding:0;}.sidebar h1,.sidebar h2{display:none}.sidebar .nav{list-style:none;padding-left:0;}.sidebar .nav>li{padding:0;}.sidebar .nav>li.header,.sidebar .nav>li.active{display:block}}img.preload{display:none}body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:16px;line-height:1.2;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;hyphens:auto;-webkit-hyphenate-before:2;-webkit-hyphenate-after:3;hyphenate-lines:3;min-width:300px}h1,h2,h3,h4,h5,h6{font-weight:bold;}h1:before,h2:before,h3:before,h4:before,h5:before,h6:before{display:block;content:" ";margin-top:-66px;height:66px;visibility:hidden}h1{border-bottom:3px solid #222;padding-bottom:5px}h2{border-bottom:2px dotted #222;padding-bottom:3px}h3{border-bottom:2px dotted #aaa;padding-bottom:2px}h4{border-bottom:1px dotted #aaa}dt{font-weight:bold;margin-top:8px}dd{margin-left:20px}blockquote{border:1px solid #eee;-webkit-border-radius:3px;border-radius:3px;border-left:5px solid #337ab7;padding:5px 15px;margin:10px 0}table{border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all;}table th,table td{padding:6px 13px;border:1px solid #ddd}table th{background-color:rgba(0,0,0,0.04);font-weight:bold;border-bottom:3px solid #999}table tr{background-color:#fff;border-top:1px solid #ccc;}table tr:nth-child(2n){background-color:rgba(0,0,0,0.04)}img{vertical-align:middle}.emoji{height:1em}abbr,acronym{border-bottom:dotted 1px}code,tt{background-color:#fafafa;-webkit-border-radius:4px;border-radius:4px;font-size:85%;margin:0;padding:.2em 0}pre{background-color:#fafafa;-webkit-border-radius:10px;border-radius:10px;border:1px solid #a4a4a4;font-size:85%;margin:20px;padding:10px;}pre code,pre tt{background:none}pre.language{counter-reset:line;max-height:265px;padding-top:30px;padding-bottom:0;overflow-x:hidden;}pre.language code,pre.language tt{display:block;position:relative;float:left;width:100%;border-left:45px solid #ddd;margin-left:-10px;padding-left:5px;}pre.language code:before,pre.language tt:before{counter-increment:line;content:counter(line);min-width:35px;float:left;text-align:right;padding-right:5px;color:#808080;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-select:none;margin-left:-45px}pre.language code:first-of-type,pre.language tt:first-of-type{padding-top:10px}pre.language code:last-child,pre.language tt:last-child{padding-bottom:10px}pre.language header{border-top-left-radius:4px;border-top-right-radius:4px;font-weight:bold;background:#fafafa;margin:-30px -10px 0 -10px;padding:5px 15px}pre.language.coffeescript header,pre.language.javascript header,pre.language.ruby header,pre.language.python header,pre.language.perl header,pre.language.cc header,pre.language.cpp header,pre.language.cs header,pre.language.java header,pre.language.jsp header,pre.language.groovy header,pre.language.php header,pre.language.bash header,pre.language.sql header,pre.language.makefile header{background:#f0ad4e}pre.language.json header,pre.language.cson header,pre.language.yaml header{background:#61b961}pre.language.handlebars header,pre.language.css header,pre.language.stylus header,pre.language.scss header,pre.language.less header,pre.language.markdown header{background:#76abca}ul.table-of-contents{max-width:100px;max-height:30px;overflow:hidden;position:fixed;top:51px;right:0;background:#ddd;padding:5px 15px;-webkit-transition:max-width 100ms ease 1.2s, max-height 1s ease 200ms;-moz-transition:max-width 100ms ease 1.2s, max-height 1s ease 200ms;-o-transition:max-width 100ms ease 1.2s, max-height 1s ease 200ms;-ms-transition:max-width 100ms ease 1.2s, max-height 1s ease 200ms;transition:max-width 100ms ease 1.2s, max-height 1s ease 200ms;border-left:2px solid #999;border-bottom:2px solid #999;border-bottom-left-radius:10px;list-style-type:none;white-space:nowrap;}ul.table-of-contents:hover{max-width:285px;max-height:248px;-webkit-transition:max-width 100ms ease, max-height 1s ease 100ms;-moz-transition:max-width 100ms ease, max-height 1s ease 100ms;-o-transition:max-width 100ms ease, max-height 1s ease 100ms;-ms-transition:max-width 100ms ease, max-height 1s ease 100ms;transition:max-width 100ms ease, max-height 1s ease 100ms;overflow-y:auto}ul.table-of-contents header{background:#999;font-weight:bold;margin:-5px -15px;padding:5px 15px}ul.table-of-contents>li{padding-bottom:2px;padding-right:8px;}ul.table-of-contents>li:first-of-type{padding-top:10px}ul.table-of-contents a{color:#222}ul.table-of-contents li.sidebar{display:list-item}@media (min-width:768px){ul.table-of-contents li.sidebar{display:none}}div.detail,div.info,div.warning,div.alert{padding:30px 10px 6px 10px;margin:5px 0 8px 0;-webkit-border-radius:3px;border-radius:3px;}div.detail>p,div.info>p,div.warning>p,div.alert>p{margin-bottom:0}div.detail header,div.info header,div.warning header,div.alert header{font-weight:bold;position:absolute;margin-top:-30px;margin-left:-10px;padding:3px 20px 3px 10px;border-bottom-right-radius:18px}div.detail{background-color:#fafafa;border:2px solid #ddd;padding-top:0}div.info{background-color:#9f9;border:2px solid #6d6;}div.info header{background-color:#6d6}div.warning{background-color:#fc9;border:2px solid #e86;}div.warning header{background-color:#e86}div.alert{background-color:#f99;border:2px solid #c00;}div.alert header{background-color:#c00;color:#fff}.text-red{color:#d13f19}.text-green{color:#2ecc40}.text-yellow{color:#ffdc00}.text-blue{color:#0074d9}.text-magenta{color:#f0f}.text-cyan{color:#0ff}.text-gray{color:#aaa}.bg-white{background-color:#fff}.center{text-align:center}.left{float:left}.right{float:right}.hide{display:none}.spacing{padding:10px}.cse .gsc-control-cse,.gsc-control-cse{padding:0 !important;}.cse .gsc-control-cse table tr,.gsc-control-cse table tr,.cse .gsc-control-cse table th,.gsc-control-cse table th,.cse .gsc-control-cse table td,.gsc-control-cse table td{border:0}.cse .gsc-control-cse .gsc-cursor-current-page,.gsc-control-cse .gsc-cursor-current-page{color:#fff !important}.cse .gsc-control-cse .gsc-webResult.gsc-result:hover,.gsc-control-cse .gsc-webResult.gsc-result:hover,.cse .gsc-control-cse .gsc-imageResult:hover,.gsc-control-cse .gsc-imageResult:hover{border-left:5px solid #337ab7;padding-left:3px}.cse .gsc-control-cse .gcsc-branding,.gsc-control-cse .gcsc-branding{display:none !important}</style>
  </head>

  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#topnav" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="https://alinex.github.io/" onmouseover="logo.src='https://alinex.github.io/images/Alinex-200.png'" onmouseout="logo.src='https://alinex.github.io/images/Alinex-black-200.png'">
  <img name="logo" src="https://alinex.github.io/images/Alinex-black-200.png" width="150" title="Alinex Homepage">
</a>
<img class="preload" src="https://alinex.github.io/images/Alinex-200.png" aria-hidden="true">

        </div>
        <div id="topnav" class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="https://alinex.github.io/blog" class="btn btn-primary">
    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Blog
  </a></li>
<li><a href="https://alinex.github.io/develop" class="btn btn-primary">
    <span class="glyphicon glyphicon-book" aria-hidden="true"></span> Develop
  </a></li>
<li><a href="https://alinex.github.io/code.html" class="btn btn-warning">
    <span class="glyphicon glyphicon-cog" aria-hidden="true"></span> Code
  </a></li>

          </ul>
          <form class="navbar-form navbar-right">
            <input name="q" type="text" class="form-control" placeholder="Search...">
          </form>
        </div>
      </div>
    </nav>

    <div class="navbar-spacer"></div>

    <div class="container-fluid">
      <div class="row">

        <div class="col-sm-9 col-sm-push-3 col-md-10 col-md-push-2 main">
          <script>
  (function() {
    var cx = '010539487162786288372:chxqbheanxc';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:searchresults-only></gcse:searchresults-only>

          <p><ul class="table-of-contents" aria-hidden="true"><header>Index</header>
<li><a href="#workflow">Workflow</a>
<ul>
<li><a href="#sorting">Sorting</a></li>
</ul>
</li>
<li><a href="#node-modules">Node Modules</a></li>
<li><a href="#initialize-module">Initialize Module</a>
<ul>
<li><a href="#setup">setup()</a></li>
</ul>
</li>
<li><a href="#create-documentation">Create Documentation</a>
<ul>
<li><a href="#run">run()</a></li>
<li><a href="#createindex">createIndex()</a></li>
</ul>
</li>
<li class="sidebar"><a href="#further-pages">Further Pages</a></li></ul>
</p><h1 id="controller">Controller</h1>
<blockquote>
<p>Path: <code>/src/index.coffee</code> compiled to <code>/lib/index.js</code></p>
</blockquote>
<p>This module is used as the base API. If you load the package you will get a reference
to the exported methods, here. Also the CLI works through this API.</p>
<h2 id="workflow">Workflow</h2>
<p>The following graph will show you the basic steps in creating the documentation:</p>
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="1090px" style="width:474px;height:1090px;" version="1.1" viewBox="0 0 474 1090" width="474px"><defs><filter height="300%" id="f1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#f1)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="65" x="121" y="10"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="45" x="131" y="31.1387">API Call</text><rect fill="#FEFECE" filter="url(#f1)" height="33.9688" style="stroke: #A80036; stroke-width: 1.5;" width="41" x="133" y="63.9688"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="138" x2="138" y1="63.9688" y2="97.9375"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="169" x2="169" y1="63.9688" y2="97.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="21" x="143" y="85.1074">run</text><polygon fill="#FBFB77" filter="url(#f1)" points="211,114.7891,211,155.0547,372,155.0547,372,124.7891,362,114.7891,211,114.7891" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FBFB77" points="211,114.7891,211,130.9219,191,134.9219,211,138.9219,211,155.0547,372,155.0547,372,124.7891,362,114.7891,211,114.7891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="362" x2="362" y1="114.7891" y2="124.7891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="372" x2="362" y1="124.7891" y2="124.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="217" y="131.856">Includes and excludes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="217" y="146.9888">definable</text><rect fill="#FEFECE" filter="url(#f1)" height="33.9688" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="116" y="117.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="55" x="126" y="139.0762">Find files</text><rect fill="#FFFFFF" filter="url(#f1)" height="693.3438" style="stroke: #000000; stroke-width: 2.0;" width="457.5" x="10" y="165.8564"/><path d="M101,166.8564 L101,175.1533 L91,185.1533 L10,185.1533 " fill="#FFFFFF" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="Serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="13" y="179.8516">parallel run</text><polygon fill="#FBFB77" filter="url(#f1)" points="384.5,192.1533,384.5,232.4189,457.5,232.4189,457.5,202.1533,447.5,192.1533,384.5,192.1533" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="447.5" x2="447.5" y1="192.1533" y2="202.1533"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="457.5" x2="447.5" y1="202.1533" y2="202.1533"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="390.5" y="209.2202">for each</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="390.5" y="224.353">file</text><polygon fill="#FEFECE" filter="url(#f1)" points="118,242.4189,199,242.4189,189,259.4033,199,276.3877,118,276.3877" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="51" x="128" y="263.5576">read file</text><rect fill="#FEFECE" filter="url(#f1)" height="33.9688" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="89" y="311.3877"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="99" y="332.5264">analyze language</text><polygon fill="#FEFECE" filter="url(#f1)" points="117,380.3564,190,380.3564,202,392.3564,190,404.3564,117,404.3564,105,392.3564,117,380.3564" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="117" y="396.1646">is markdown</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="85" y="389.7622">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="202" y="389.7622">no</text><rect fill="#FEFECE" filter="url(#f1)" height="33.9688" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="20" y="425.9564"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="86" x="30" y="447.0951">add as report</text><rect fill="#FEFECE" filter="url(#f1)" height="47.9375" style="stroke: #A80036; stroke-width: 1.5;" width="122" x="173" y="425.9564"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="44" x="183" y="447.0951">extract</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="102" x="183" y="461.0639">block comments</text><rect fill="#FEFECE" filter="url(#f1)" height="33.9688" style="stroke: #A80036; stroke-width: 1.5;" width="113" x="177.5" y="508.8939"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="187.5" y="530.0326">interpret JsDoc</text><polygon fill="#FEFECE" filter="url(#f1)" points="208,577.8627,260,577.8627,272,589.8627,260,601.8627,208,601.8627,196,589.8627,208,577.8627" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="52" x="208" y="593.6708">add code</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="182" y="587.2685">no</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="272" y="587.2685">yes</text><polygon fill="#FBFB77" filter="url(#f1)" points="346.5,627.8807,346.5,653.0135,457.5,653.0135,457.5,637.8807,447.5,627.8807,346.5,627.8807" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FBFB77" points="346.5,627.8807,346.5,636.4471,326.5,640.4471,346.5,644.4471,346.5,653.0135,457.5,653.0135,457.5,637.8807,447.5,627.8807,346.5,627.8807" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="447.5" x2="447.5" y1="627.8807" y2="637.8807"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="457.5" x2="447.5" y1="637.8807" y2="637.8807"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="352.5" y="644.9476">with highlights</text><rect fill="#FEFECE" filter="url(#f1)" height="33.9688" style="stroke: #A80036; stroke-width: 1.5;" width="79" x="247.5" y="623.4627"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="59" x="257.5" y="644.6014">add code</text><polygon fill="#FEFECE" filter="url(#f1)" points="234,689.8314,246,701.8314,234,713.8314,222,701.8314,234,689.8314" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f1)" points="153.5,746.2314,165.5,758.2314,153.5,770.2314,141.5,758.2314,153.5,746.2314" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#f1)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="59" x="124" y="805.2314"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="39" x="134" y="826.3701">report</text><rect fill="#FEFECE" filter="url(#f1)" height="33.9688" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="94" y="879.2002"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="104" y="900.3389">sort documents</text><rect fill="#FFFFFF" filter="url(#f1)" height="159.2344" style="stroke: #000000; stroke-width: 2.0;" width="135" x="86" y="923.9707"/><path d="M177,924.9707 L177,933.2676 L167,943.2676 L86,943.2676 " fill="#FFFFFF" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="Serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="89" y="937.9658">parallel run</text><rect fill="#FEFECE" filter="url(#f1)" height="33.9688" style="stroke: #A80036; stroke-width: 1.5;" width="115" x="96" y="960.2676"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="95" x="106" y="981.4063">convert to html</text><polygon fill="#FEFECE" filter="url(#f1)" points="107,1029.2363,200,1029.2363,210,1046.2207,200,1063.2051,107,1063.2051" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="73" x="117" y="1050.375">write report</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="153.5" x2="153.5" y1="43.9688" y2="63.9688"/><polygon fill="#A80036" points="149.5,53.9688,153.5,63.9688,157.5,53.9688,153.5,57.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="153.5" x2="153.5" y1="97.9375" y2="117.9375"/><polygon fill="#A80036" points="149.5,107.9375,153.5,117.9375,157.5,107.9375,153.5,111.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="153.5" x2="153.5" y1="276.3877" y2="311.3877"/><polygon fill="#A80036" points="149.5,301.3877,153.5,311.3877,157.5,301.3877,153.5,305.3877" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="234" x2="234" y1="473.8939" y2="508.8939"/><polygon fill="#A80036" points="230,498.8939,234,508.8939,238,498.8939,234,502.8939" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="196" x2="181" y1="589.8627" y2="589.8627"/><polygon fill="#A80036" points="177,635.8471,181,645.8471,185,635.8471,181,639.8471" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="181" x2="181" y1="589.8627" y2="701.8314"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="181" x2="222" y1="701.8314" y2="701.8314"/><polygon fill="#A80036" points="212,697.8314,222,701.8314,212,705.8314,216,701.8314" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="272" x2="287" y1="589.8627" y2="589.8627"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="287" x2="287" y1="589.8627" y2="623.4627"/><polygon fill="#A80036" points="283,613.4627,287,623.4627,291,613.4627,287,617.4627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="287" x2="287" y1="657.4314" y2="701.8314"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="287" x2="246" y1="701.8314" y2="701.8314"/><polygon fill="#A80036" points="256,697.8314,246,701.8314,256,705.8314,252,701.8314" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="234" x2="234" y1="542.8627" y2="577.8627"/><polygon fill="#A80036" points="230,567.8627,234,577.8627,238,567.8627,234,571.8627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="105" x2="73" y1="392.3564" y2="392.3564"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="73" x2="73" y1="392.3564" y2="425.9564"/><polygon fill="#A80036" points="69,415.9564,73,425.9564,77,415.9564,73,419.9564" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="202" x2="234" y1="392.3564" y2="392.3564"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="234" x2="234" y1="392.3564" y2="425.9564"/><polygon fill="#A80036" points="230,415.9564,234,425.9564,238,415.9564,234,419.9564" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="73" x2="73" y1="459.9252" y2="758.2314"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="73" x2="141.5" y1="758.2314" y2="758.2314"/><polygon fill="#A80036" points="131.5,754.2314,141.5,758.2314,131.5,762.2314,135.5,758.2314" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="234" x2="234" y1="713.8314" y2="758.2314"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="234" x2="165.5" y1="758.2314" y2="758.2314"/><polygon fill="#A80036" points="175.5,754.2314,165.5,758.2314,175.5,762.2314,171.5,758.2314" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="153.5" x2="153.5" y1="345.3564" y2="380.3564"/><polygon fill="#A80036" points="149.5,370.3564,153.5,380.3564,157.5,370.3564,153.5,374.3564" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="153.5" x2="153.5" y1="770.2314" y2="805.2314"/><polygon fill="#A80036" points="149.5,795.2314,153.5,805.2314,157.5,795.2314,153.5,799.2314" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="153.5" x2="153.5" y1="151.9063" y2="242.4189"/><polygon fill="#A80036" points="149.5,232.4189,153.5,242.4189,157.5,232.4189,153.5,236.4189" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="153.5" x2="153.5" y1="839.2002" y2="879.2002"/><polygon fill="#A80036" points="149.5,869.2002,153.5,879.2002,157.5,869.2002,153.5,873.2002" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="153.5" x2="153.5" y1="994.2363" y2="1029.2363"/><polygon fill="#A80036" points="149.5,1019.2363,153.5,1029.2363,157.5,1019.2363,153.5,1023.2363" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="153.5" x2="153.5" y1="913.1689" y2="960.2676"/><polygon fill="#A80036" points="149.5,950.2676,153.5,960.2676,157.5,950.2676,153.5,954.2676" style="stroke: #A80036; stroke-width: 1.0;"/></g></svg><h3 id="sorting">Sorting</h3>
<p>The file links are sorted in a natural way. This is from upper to lower directories
and alphabetically but with some defined orders. This means that ‘index.*’ always
comes before ‘<a href="http://README.md">README.md</a>’ and the other files.</p>
<h2 id="node-modules">Node Modules</h2>
<pre style="counter-reset:line 62" class="language coffeescript"><header>CoffeeScript Code</header><code><span class="hljs-comment"># include base modules</span></code>
<code>debug = <span class="hljs-built_in">require</span>(<span class="hljs-string">'debug'</span>) <span class="hljs-string">'codedoc'</span></code>
<code>debugPage = <span class="hljs-built_in">require</span>(<span class="hljs-string">'debug'</span>) <span class="hljs-string">'codedoc:page'</span></code>
<code>debugCopy = <span class="hljs-built_in">require</span>(<span class="hljs-string">'debug'</span>) <span class="hljs-string">'codedoc:copy'</span></code>
<code>chalk = <span class="hljs-built_in">require</span> <span class="hljs-string">'chalk'</span></code>
<code>path = <span class="hljs-built_in">require</span> <span class="hljs-string">'path'</span></code>
<code>async = <span class="hljs-built_in">require</span> <span class="hljs-string">'async'</span></code>
<code>isBinaryFile = <span class="hljs-built_in">require</span> <span class="hljs-string">'isbinaryfile'</span></code>
<code><span class="hljs-comment"># include alinex modules</span></code>
<code>util = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-util'</span></code>
<code>fs = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-fs'</span></code>
<code>Report = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-report'</span></code>
<code>config = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-config'</span></code>
<code><span class="hljs-comment"># internal methods</span></code>
<code>language = <span class="hljs-built_in">require</span> <span class="hljs-string">'./language'</span></code>
<code></code>
<code>PARALLEL = <span class="hljs-number">10</span></code>
<code>STATIC_FILES = <span class="hljs-regexp">/\.(html|gif|png|jpg|js|css)$/i</span></code></pre>
<h2 id="initialize-module">Initialize Module</h2>
<p>To use the template search through the <a href="https://alinex.github.io/node-config">alinex-config</a>
path module you have to init the template type by calling this method once.</p>
<p>This will setup the <a href="https://alinex.github.io/node-report">alinex-report</a> component
and register the template type to search for templates in the global, user and
local path like known from the config module.</p>
<h3 id="setup">setup()</h3>
<blockquote>
<p class="api-usage"><strong>Usage:</strong> public <code>setup(cb)</code></p>
</blockquote>
<dl class="api-spec">
<dt>Parameter</dt>
<dd>
<ul>
<li><code>cb</code> - <code>function(err)</code> - method, to call with ‘Error’ or <code>null</code> after done.</li>
</ul>
</dd>
</dl>
<pre style="counter-reset:line 95" class="language coffeescript"><header>CoffeeScript Code</header><code>exports.setup = util.function.once <span class="hljs-keyword">this</span>, <span class="hljs-function"><span class="hljs-params">(cb)</span> -&gt;</span></code>
<code>  debug chalk.grey <span class="hljs-string">"setup codedoc component"</span></code>
<code>  async.each [Report], <span class="hljs-function"><span class="hljs-params">(mod, cb)</span> -&gt;</span></code>
<code>    mod.setup cb</code>
<code>  , <span class="hljs-function"><span class="hljs-params">(err)</span> -&gt;</span></code>
<code>    <span class="hljs-keyword">return</span> cb err <span class="hljs-keyword">if</span> err</code>
<code>    <span class="hljs-comment"># set module search path</span></code>
<code>    config.register <span class="hljs-string">'codedoc'</span>, path.dirname(__dirname),</code>
<code>      folder: <span class="hljs-string">'template'</span></code>
<code>      type: <span class="hljs-string">'template'</span></code>
<code>    cb()</code></pre>
<h2 id="create-documentation">Create Documentation</h2>
<p>Like described in the workflow above this is the main routine and will do all the
steps to make the documentation ready to browse in the local path.</p>
<h3 id="run">run()</h3>
<blockquote>
<p class="api-usage"><strong>Usage:</strong> public <code>run(setup, cb)</code></p>
</blockquote>
<dl class="api-spec">
<dt>Parameter</dt>
<dd>
<ul>
<li><code>setup</code> - <code>object</code> - defining the document creation
<ul>
<li><code>input</code> - path to read from</li>
<li><code>òutput</code>- output directory to store to</li>
<li><code>find</code> - source search pattern
<ul>
<li><code>include</code> - files to include see <a href="https://alinex.github.io/node-fs">alinex-fs</a></li>
<li><code>exclude</code> - files to exclude see <a href="https://alinex.github.io/node-fs">alinex-fs</a></li>
</ul>
</li>
<li><code>brand</code> - branding name to remove from automatic titles</li>
<li><code>verbose</code> - level of verbose mode</li>
</ul>
</li>
<li><code>cb</code> - <code>function(err)</code> - function to be called after done</li>
</ul>
</dd>
</dl>
<pre style="counter-reset:line 125" class="language coffeescript"><header>CoffeeScript Code</header><code>exports.run = <span class="hljs-function"><span class="hljs-params">(setup, cb)</span> -&gt;</span></code>
<code>  <span class="hljs-comment"># set up system</span></code>
<code>  setup.input ?= <span class="hljs-string">'.'</span></code>
<code>  setup.input = path.resolve setup.input ? <span class="hljs-string">'.'</span></code>
<code>  setup.output = path.resolve setup.output ? <span class="hljs-string">'.'</span></code>
<code>  setup.find ?= {}</code>
<code>  setup.find.type = <span class="hljs-string">'file'</span></code>
<code>  setup.brand ?= <span class="hljs-string">'alinex'</span></code>
<code>  <span class="hljs-comment"># start converting</span></code>
<code>  fs.mkdirs setup.output, <span class="hljs-function"><span class="hljs-params">(err)</span> -&gt;</span></code>
<code>    <span class="hljs-keyword">return</span> cb err <span class="hljs-keyword">if</span> err</code>
<code>    async.parallel [</code>
<code>      (cb) -&gt; <span class="hljs-comment"># search source files</span></code>
<code>        (<span class="hljs-keyword">if</span> setup.verbose <span class="hljs-keyword">then</span> <span class="hljs-built_in">console</span>.log <span class="hljs-keyword">else</span> debug) <span class="hljs-string">"search files in <span class="hljs-subst">#{setup.input}</span>"</span></code>
<code>        fs.find setup.input, setup.find, <span class="hljs-function"><span class="hljs-params">(err, list)</span> -&gt;</span></code>
<code>          <span class="hljs-keyword">return</span> cb err <span class="hljs-keyword">if</span> err</code>
<code>          <span class="hljs-comment"># create reports</span></code>
<code>          (<span class="hljs-keyword">if</span> setup.verbose <span class="hljs-keyword">then</span> <span class="hljs-built_in">console</span>.log <span class="hljs-keyword">else</span> debug) <span class="hljs-string">"convert files..."</span></code>
<code>          map = {}</code>
<code>          async.eachLimit list, PARALLEL, <span class="hljs-function"><span class="hljs-params">(file, cb)</span> -&gt;</span></code>
<code>            p = file[setup.input.length..]</code>
<code>            processFile file, p, setup, <span class="hljs-function"><span class="hljs-params">(err, report)</span> -&gt;</span></code>
<code>              <span class="hljs-keyword">if</span> err</code>
<code>                <span class="hljs-keyword">return</span> cb err <span class="hljs-keyword">if</span> err <span class="hljs-keyword">instanceof</span> Error</code>
<code>                <span class="hljs-keyword">return</span> cb() <span class="hljs-comment"># no real problem but abort</span></code>
<code>              map[p] =</code>
<code>                report: report</code>
<code>                dest: <span class="hljs-string">"<span class="hljs-subst">#{setup.output}</span><span class="hljs-subst">#{p}</span>.html"</span></code>
<code>                parts: p[<span class="hljs-number">1.</span>.].toLowerCase().split <span class="hljs-regexp">/\//</span></code>
<code>                title: report.getTitle() ? p[<span class="hljs-number">1.</span>.]</code>
<code>              cb()</code>
<code>          , <span class="hljs-function"><span class="hljs-params">(err)</span> -&gt;</span></code>
<code>            <span class="hljs-keyword">return</span> cb err <span class="hljs-keyword">if</span> err</code>
<code>            <span class="hljs-comment"># write files</span></code>
<code>            map = sortMap map</code>
<code>            mapKeys = Object.keys map</code>
<code>            moduleName = map[mapKeys[<span class="hljs-number">0</span>]].title.replace <span class="hljs-regexp">/\s*[-:].*/</span>, <span class="hljs-string">''</span></code>
<code>            .replace <span class="hljs-keyword">new</span> RegExp(<span class="hljs-string">"^<span class="hljs-subst">#{setup.brand}</span>\\s+"</span>, <span class="hljs-string">'i'</span>), <span class="hljs-string">''</span></code>
<code>            async.eachLimit mapKeys, PARALLEL, <span class="hljs-function"><span class="hljs-params">(name, cb)</span> -&gt;</span></code>
<code>              <span class="hljs-comment"># create link list</span></code>
<code>              pages = []</code>
<code>              <span class="hljs-keyword">for</span> p, e <span class="hljs-keyword">of</span> map</code>
<code>                pages.push</code>
<code>                  depth: <span class="hljs-keyword">if</span> setup.code <span class="hljs-keyword">then</span> e.parts.length - <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span></code>
<code>                  title: e.title</code>
<code>                  path: p</code>
<code>                  link: e.title.replace <span class="hljs-regexp">/^.*?[-:]\s+/</span>, <span class="hljs-string">''</span></code>
<code>                  url: <span class="hljs-string">"<span class="hljs-subst">#{path.relative path.dirname(name), p}</span>.html"</span></code>
<code>                  active: p <span class="hljs-keyword">is</span> name</code>
<code>              <span class="hljs-comment"># convert to html</span></code>
<code>              file = map[name]</code>
<code>              file.report.toHtml</code>
<code>                style: <span class="hljs-string">'codedoc'</span></code>
<code>                context:</code>
<code>                  moduleName: moduleName</code>
<code>                  pages: pages</code>
<code>              , <span class="hljs-function"><span class="hljs-params">(err, html)</span> -&gt;</span></code>
<code>                html = html</code>
<code>                .replace <span class="hljs-regexp">/(&lt;\/ul&gt;\n&lt;\/p&gt;)\n&lt;!-- end-of-toc --&gt;\n/</span></code>
<code>                , <span class="hljs-string">'&lt;li class="sidebar"&gt;&lt;a href="#further-pages"&gt;Further Pages&lt;/a&gt;&lt;/li&gt;$1'</span></code>
<code>                .replace <span class="hljs-regexp">///href=\"(?!https?://|/)(.*?)(["<span class="hljs-comment">#])///gi, (_, link, end) -&gt;</span></code>
<code>                  if link.length is 0 or link.match STATIC_FILES</code>
<code>                    "href=\"<span class="hljs-subst">#{link}</span><span class="hljs-subst">#{end}</span>" <span class="hljs-comment"># keep link</span></code>
<code>                  else</code>
<code>                    "href=\"<span class="hljs-subst">#{link}</span>.html<span class="hljs-subst">#{end}</span>" <span class="hljs-comment"># add .html</span></code>
<code>                fs.mkdirs path.dirname(file.dest), (err) -&gt;</code>
<code>                  return cb err if err</code>
<code>                  fs.writeFile file.dest, html, 'utf8', cb</code>
<code>            , (err) -&gt;</code>
<code>              return cb err if err</code>
<code>              (if setup.verbose then console.log else debug) "check index page"</code>
<code>              createIndex setup.output, map[mapKeys[0]].dest, (err) -&gt;</code>
<code>                return cb err if err</code>
<code>                (if setup.verbose then console.log else debug) "page creation done"</code>
<code>                cb()</code>
<code>      (cb) -&gt; <span class="hljs-comment"># copy resources</span></code>
<code>        (if setup.verbose then console.log else debug) "copy static files from <span class="hljs-subst">#{setup.input}</span>"</code>
<code>        filter = util.extend util.clone(setup.find),</code>
<code>          include: STATIC_FILES</code>
<code>        fs.find setup.input, filter, (err, list) -&gt;</code>
<code>          return cb err if err</code>
<code>          async.eachLimit list, PARALLEL, (file, cb) -&gt;</code>
<code>            (if setup.verbose &gt; 1 then console.log else debugCopy) "copy <span class="hljs-subst">#{file}</span>"</code>
<code>            dest = "<span class="hljs-subst">#{setup.output}</span><span class="hljs-subst">#{file[setup.input.length..]}</span>"</code>
<code>            fs.remove dest, -&gt;</code>
<code>              fs.copy file, dest, cb</code>
<code>          , (err) -&gt;</code>
<code>            return cb err if err</code>
<code>            (if setup.verbose then console.log else debug) "copying files done"</code>
<code>            cb()</code>
<code>    ], (err) -&gt;</code>
<code>      return cb err if err</code>
<code>      (if setup.verbose then console.log else debug) "finished document creation"</code>
<code>      cb()</code>
<code></span></code></pre>
<h3 id="createindex">createIndex()</h3>
<p>If not existing create an <code>index.html</code> file which forwards to the first page
immediately.</p>
<blockquote>
<p class="api-usage"><strong>Usage:</strong> <code>createIndex(dir, link, cb)</code></p>
</blockquote>
<dl class="api-spec">
<dt>Parameter</dt>
<dd>
<ul>
<li><code>dir</code> - <code>string</code> - base path of index file</li>
<li><code>link</code> - <code>string</code> - destination for the link to the first page</li>
<li><code>cb</code> - <code>function(err)</code> - callback method after done</li>
</ul>
</dd>
</dl>
<pre style="counter-reset:line 228" class="language coffeescript"><header>CoffeeScript Code</header><code><span class="hljs-function"><span class="hljs-title">createIndex</span> = <span class="hljs-params">(dir, link, cb)</span> -&gt;</span></code>
<code>  file = path.join dir, <span class="hljs-string">'index.html'</span></code>
<code>  dest = path.relative dir, link</code>
<code>  fs.exists file, <span class="hljs-function"><span class="hljs-params">(exists)</span> -&gt;</span></code>
<code>    <span class="hljs-keyword">return</span> cb() <span class="hljs-keyword">if</span> exists</code>
<code>    debug <span class="hljs-string">"create index page"</span></code>
<code>    fs.writeFile file, <span class="hljs-string">"""</span></code>
<code><span class="hljs-string">      &lt;html&gt;</span></code>
<code><span class="hljs-string">      &lt;head&gt;</span></code>
<code><span class="hljs-string">        &lt;meta http-equiv="refresh" content="0; url=<span class="hljs-subst">#{dest}</span>" /&gt;</code>
<code>        &lt;script type="text/javascript"&gt;</code>
<code>            window.location.href = "<span class="hljs-subst">#{dest}</span>"</code>
<code>        &lt;/script&gt;</code>
<code>        &lt;title&gt;Page Redirection&lt;/title&gt;</code>
<code>      &lt;/head&gt;</code>
<code>      &lt;body&gt;</code>
<code>        If you are not redirected automatically, follow the link to the</code>
<code>        &lt;a href='<span class="hljs-subst">#{dest}</span>'&gt;README&lt;/a&gt;.</code>
<code>      &lt;/body&gt;</code>
<code>      &lt;/html&gt;</code>
<code>      """</span>, cb</code>
<code><span class="hljs-function"></span></code>
<code><span class="hljs-function"><span class="hljs-title">processFile</span> = <span class="hljs-params">(file, local, setup, cb)</span> -&gt;</span></code>
<code>  async.waterfall [</code>
<code>    <span class="hljs-comment"># get file</span></code>
<code>    (cb) -&gt;</code>
<code>      (<span class="hljs-keyword">if</span> setup.verbose &gt; <span class="hljs-number">1</span> <span class="hljs-keyword">then</span> <span class="hljs-built_in">console</span>.log <span class="hljs-keyword">else</span> debugPage) <span class="hljs-string">"analyze <span class="hljs-subst">#{file}</span>"</span></code>
<code>      fs.readFile file, <span class="hljs-function"><span class="hljs-params">(err, buffer)</span> -&gt;</span></code>
<code>        <span class="hljs-keyword">return</span> cb err <span class="hljs-keyword">if</span> err</code>
<code>        isBinaryFile buffer, buffer.length, <span class="hljs-function"><span class="hljs-params">(err, binary)</span> -&gt;</span></code>
<code>          <span class="hljs-keyword">return</span> cb err ? <span class="hljs-string">'BINARY'</span> <span class="hljs-keyword">if</span> err <span class="hljs-keyword">or</span> binary</code>
<code>          cb <span class="hljs-literal">null</span>, buffer.toString <span class="hljs-string">'utf8'</span></code>
<code>    <span class="hljs-comment"># analyze language</span></code>
<code>    (contents, cb) -&gt;</code>
<code>      lang = language file, contents</code>
<code>      <span class="hljs-keyword">unless</span> lang</code>
<code>        (<span class="hljs-keyword">if</span> setup.verbose <span class="hljs-keyword">then</span> <span class="hljs-built_in">console</span>.log <span class="hljs-keyword">else</span> debug) \</code>
<code>          chalk.magenta <span class="hljs-string">"could not detect language of <span class="hljs-subst">#{file}</span>"</span></code>
<code>        <span class="hljs-keyword">return</span> cb <span class="hljs-string">'UNKNOWN'</span></code>
<code>      (<span class="hljs-keyword">if</span> setup.verbose &gt; <span class="hljs-number">2</span> <span class="hljs-keyword">then</span> <span class="hljs-built_in">console</span>.log <span class="hljs-keyword">else</span> debugPage) \</code>
<code>        chalk.grey <span class="hljs-string">"<span class="hljs-subst">#{file}</span>: detected as <span class="hljs-subst">#{lang.name}</span>"</span></code>
<code>      cb <span class="hljs-literal">null</span>, contents, lang</code>
<code>    <span class="hljs-comment"># create report</span></code>
<code>    (contents, lang, cb) -&gt;</code>
<code>      report = <span class="hljs-keyword">new</span> Report()</code>
<code>      report.toc()</code>
<code>      report.raw <span class="hljs-string">'&lt;!-- end-of-toc --&gt;\n\n'</span> <span class="hljs-comment"># needed in case raw adding will follow</span></code>
<code>      <span class="hljs-keyword">if</span> lang.name <span class="hljs-keyword">is</span> <span class="hljs-string">'markdown'</span></code>
<code>        report.raw contents</code>
<code>      <span class="hljs-keyword">else</span></code>
<code>        <span class="hljs-comment"># document comments</span></code>
<code>        docs = []</code>
<code>        <span class="hljs-keyword">if</span> lang.doc</code>
<code>          [re, fn] = lang.doc</code>
<code>          <span class="hljs-keyword">while</span> match = re.exec contents</code>
<code>            match[<span class="hljs-number">1</span>] = fn match[<span class="hljs-number">1</span>] <span class="hljs-keyword">if</span> fn</code>
<code>            end = match.index + match[<span class="hljs-number">0</span>].length</code>
<code>            cend = contents.indexOf <span class="hljs-string">'\n'</span>, end</code>
<code>            code = <span class="hljs-keyword">if</span> cend &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">then</span> contents[end..cend] <span class="hljs-keyword">else</span> contents[end..]</code>
<code>            docs.push [match.index, end, match[<span class="hljs-number">1</span>], code.trim()]</code>
<code>          (<span class="hljs-keyword">if</span> setup.verbose &gt; <span class="hljs-number">2</span> <span class="hljs-keyword">then</span> <span class="hljs-built_in">console</span>.log <span class="hljs-keyword">else</span> debugPage) \</code>
<code>            chalk.grey <span class="hljs-string">"<span class="hljs-subst">#{file}</span>: <span class="hljs-subst">#{docs.length}</span> doc comments"</span></code>
<code>        <span class="hljs-keyword">if</span> lang.api <span class="hljs-keyword">and</span> setup.code</code>
<code>          [re, fn] = lang.api</code>
<code>          <span class="hljs-keyword">while</span> match = re.exec contents</code>
<code>            match[<span class="hljs-number">1</span>] = fn match[<span class="hljs-number">1</span>] <span class="hljs-keyword">if</span> fn</code>
<code>            end = match.index + match[<span class="hljs-number">0</span>].length</code>
<code>            found = <span class="hljs-literal">false</span></code>
<code>            <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> docs</code>
<code>              <span class="hljs-keyword">if</span> c[<span class="hljs-number">0</span>] <span class="hljs-keyword">is</span> match.index <span class="hljs-keyword">and</span> c[<span class="hljs-number">1</span>] <span class="hljs-keyword">is</span> end</code>
<code>                found = <span class="hljs-literal">true</span></code>
<code>                <span class="hljs-keyword">break</span></code>
<code>            <span class="hljs-keyword">unless</span> found</code>
<code>              end = match.index + match[<span class="hljs-number">0</span>].length</code>
<code>              cend = contents.indexOf <span class="hljs-string">'\n'</span>, end</code>
<code>              code = <span class="hljs-keyword">if</span> cend &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">then</span> contents[end..cend] <span class="hljs-keyword">else</span> contents[end..]</code>
<code>              docs.push [match.index, end, match[<span class="hljs-number">1</span>], code.trim()]</code>
<code>          (<span class="hljs-keyword">if</span> setup.verbose &gt; <span class="hljs-number">2</span> <span class="hljs-keyword">then</span> <span class="hljs-built_in">console</span>.log <span class="hljs-keyword">else</span> debugPage) \</code>
<code>            chalk.grey <span class="hljs-string">"<span class="hljs-subst">#{file}</span>: <span class="hljs-subst">#{docs.length}</span> doc comments (with internal)"</span></code>
<code>        <span class="hljs-comment"># sort found sections</span></code>
<code>        docs.sort (a, b) -&gt;</code>
<code>          <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span> <span class="hljs-keyword">if</span> a[<span class="hljs-number">0</span>] &lt; b[<span class="hljs-number">0</span>]</code>
<code>          <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> <span class="hljs-keyword">if</span> a[<span class="hljs-number">0</span>] &gt; b[<span class="hljs-number">0</span>]</code>
<code>          <span class="hljs-number">0</span></code>
<code>        <span class="hljs-comment"># create report</span></code>
<code>        <span class="hljs-keyword">unless</span> docs.length</code>
<code>          <span class="hljs-keyword">return</span> cb <span class="hljs-string">'CODE_DISABLED'</span> <span class="hljs-keyword">unless</span> setup.code</code>
<code>          report.h1 <span class="hljs-string">"File: <span class="hljs-subst">#{path.basename local}</span>"</span></code>
<code>          report.quote <span class="hljs-string">"Path: <span class="hljs-subst">#{local}</span>"</span></code>
<code>          report.code stripIndent(contents, lang.tab), lang.name</code>
<code>          report.p Report.style <span class="hljs-string">'code: style="max-height:none"'</span></code>
<code>          <span class="hljs-keyword">return</span> cb <span class="hljs-literal">null</span>, report</code>
<code>        pos = <span class="hljs-number">0</span></code>
<code>        <span class="hljs-keyword">for</span> doc <span class="hljs-keyword">in</span> docs</code>
<code>          <span class="hljs-comment"># doc optimizations</span></code>
<code>          <span class="hljs-keyword">try</span></code>
<code>            optimize doc, lang.tags, file</code>
<code>          <span class="hljs-keyword">catch</span></code>
<code>            <span class="hljs-keyword">return</span> cb <span class="hljs-keyword">new</span> Error <span class="hljs-string">"Could not parse documentation at <span class="hljs-subst">#{file}</span>: \</code>
<code>            <span class="hljs-subst">#{chalk.grey util.inspect doc[<span class="hljs-number">2</span>]}</span>"</span></code>
<code>          <span class="hljs-keyword">if</span> pos &lt; doc[<span class="hljs-number">0</span>] <span class="hljs-keyword">and</span> setup.code</code>
<code>            <span class="hljs-comment"># code block before doc</span></code>
<code>            part = contents[pos..doc[<span class="hljs-number">0</span>]]</code>
<code>            report.code stripIndent(part, lang.tab), lang.name</code>
<code>            <span class="hljs-keyword">if</span> pos <span class="hljs-comment"># set correct line number</span></code>
<code>              line = contents[<span class="hljs-number">0.</span>.pos].split(<span class="hljs-string">'\n'</span>).length - <span class="hljs-number">1</span></code>
<code>              report.p Report.style <span class="hljs-string">"code: style=\"counter-reset:line <span class="hljs-subst">#{line}</span>\""</span></code>
<code>          <span class="hljs-comment"># add doc block</span></code>
<code>          md = doc[<span class="hljs-number">2</span>].replace <span class="hljs-regexp">/(\n\s*)#3(\s+)/</span>, <span class="hljs-string">'$1###$2'</span></code>
<code>          .replace <span class="hljs-regexp">/\n\s*?$/</span>, <span class="hljs-string">''</span></code>
<code>          report.raw <span class="hljs-string">"\n<span class="hljs-subst">#{md}</span>\n\n"</span></code>
<code>          pos = doc[<span class="hljs-number">1</span>]</code>
<code>        <span class="hljs-keyword">if</span> pos &lt; contents.length <span class="hljs-keyword">and</span> setup.code</code>
<code>          <span class="hljs-comment"># last code block</span></code>
<code>          report.code stripIndent(contents[pos..], lang.tab), lang.name</code>
<code>          <span class="hljs-keyword">if</span> pos <span class="hljs-comment"># set correct line number</span></code>
<code>            line = contents[<span class="hljs-number">0.</span>.pos].split(<span class="hljs-string">'\n'</span>).length - <span class="hljs-number">1</span></code>
<code>            report.p Report.style <span class="hljs-string">"code: style=\"counter-reset:line <span class="hljs-subst">#{line}</span>\""</span></code>
<code>        <span class="hljs-comment"># optimize report by adding path with compiled path</span></code>
<code>        source = <span class="hljs-string">"`<span class="hljs-subst">#{local}</span>`"</span></code>
<code>        <span class="hljs-keyword">if</span> match = local.match <span class="hljs-regexp">/^\/src(\/.*)\.coffee$/</span></code>
<code>          source += <span class="hljs-string">" compiled to `/lib<span class="hljs-subst">#{match[<span class="hljs-number">1</span>]}</span>.js`"</span></code>
<code>        report.body = report.body.replace <span class="hljs-regexp">/(\n\s*={10,}\s*\n)/</span>, <span class="hljs-string">"$1\n&gt; Path: <span class="hljs-subst">#{source}</span>\n\n"</span></code>
<code>      cb <span class="hljs-literal">null</span>, report</code>
<code>  ], cb</code>
<code></code>
<code>orderFirst = [</code>
<code>  <span class="hljs-string">'readme.*'</span></code>
<code>  <span class="hljs-string">'readme'</span></code>
<code>  <span class="hljs-string">'/man'</span></code>
<code>  <span class="hljs-string">'*.md'</span></code>
<code>  <span class="hljs-string">'index.*'</span></code>
<code>  <span class="hljs-string">'/src'</span></code>
<code>]</code>
<code>orderLast = [</code>
<code>  <span class="hljs-string">'/bin'</span></code>
<code>  <span class="hljs-string">'/lib'</span></code>
<code>  <span class="hljs-string">'/var'</span></code>
<code>  <span class="hljs-string">'.travis.yml'</span></code>
<code>  <span class="hljs-string">'changelog'</span></code>
<code>  <span class="hljs-string">'changelog.*'</span></code>
<code>]</code>
<code><span class="hljs-function"><span class="hljs-title">sortMap</span> = <span class="hljs-params">(map)</span> -&gt;</span></code>
<code>  list = Object.keys(map).map (e) -&gt;</code>
<code>    parts = map[e].parts[..<span class="hljs-number">-2</span>].map (p) -&gt; <span class="hljs-string">"/<span class="hljs-subst">#{p}</span>"</span></code>
<code>    parts.push map[e].parts[map[e].parts.length<span class="hljs-number">-1</span>]</code>
<code>    sortnum = parts.map (p) -&gt;</code>
<code>      check = [p]</code>
<code>      <span class="hljs-keyword">if</span> ~p.indexOf <span class="hljs-string">'.'</span></code>
<code>        check.push <span class="hljs-string">"*<span class="hljs-subst">#{path.extname p}</span>"</span></code>
<code>        check.push <span class="hljs-string">"<span class="hljs-subst">#{path.basename p, path.extname p}</span>.*"</span></code>
<code>      <span class="hljs-keyword">for</span> v, i <span class="hljs-keyword">in</span> orderLast</code>
<code>        <span class="hljs-keyword">continue</span> <span class="hljs-keyword">unless</span> v <span class="hljs-keyword">in</span> check</code>
<code>        <span class="hljs-keyword">return</span> util.string.lpad(<span class="hljs-number">51</span> + i, <span class="hljs-number">2</span>, <span class="hljs-string">'0'</span>) + util.string.rpad(p, <span class="hljs-number">10</span>, <span class="hljs-string">'_'</span>)</code>
<code>      <span class="hljs-keyword">for</span> v, i <span class="hljs-keyword">in</span> orderFirst</code>
<code>        <span class="hljs-keyword">continue</span> <span class="hljs-keyword">unless</span> v <span class="hljs-keyword">in</span> check</code>
<code>        <span class="hljs-keyword">return</span> util.string.lpad(i, <span class="hljs-number">2</span>, <span class="hljs-string">'0'</span>) + util.string.rpad(p, <span class="hljs-number">10</span>, <span class="hljs-string">'_'</span>)</code>
<code>      <span class="hljs-number">50</span> + util.string.rpad(p, <span class="hljs-number">10</span>, <span class="hljs-string">'_'</span>)</code>
<code>    .join <span class="hljs-string">''</span></code>
<code>    <span class="hljs-string">"<span class="hljs-subst">#{sortnum}</span> =&gt; <span class="hljs-subst">#{e}</span>"</span></code>
<code>  list.sort()</code>
<code>  list = list.map (e) -&gt; e.split(/ =&gt; /)[<span class="hljs-number">1</span>]</code>
<code>  sorted = {}</code>
<code>  sorted[k] = map[k] <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> list</code>
<code>  sorted</code>
<code><span class="hljs-function"></span></code>
<code><span class="hljs-function"><span class="hljs-title">stripIndent</span> = <span class="hljs-params">(code, tab)</span> -&gt;</span></code>
<code>  str = code.replace <span class="hljs-regexp">/^[ \t]*(?=\S)/gm</span>, <span class="hljs-function"><span class="hljs-params">(e)</span> -&gt;</span></code>
<code>    e.replace <span class="hljs-string">'\t'</span>, util.string.repeat <span class="hljs-string">' '</span>, tab ? <span class="hljs-number">2</span></code>
<code>  match = str.match <span class="hljs-regexp">/^ *(?=\S)/gm</span></code>
<code>  <span class="hljs-keyword">return</span> code <span class="hljs-keyword">unless</span> match</code>
<code>  indent = Math.min.apply Math, match.map (e) -&gt; e.length</code>
<code>  code.replace <span class="hljs-keyword">new</span> RegExp(<span class="hljs-string">"^ {<span class="hljs-subst">#{indent}</span>}"</span>, <span class="hljs-string">'gm'</span>), <span class="hljs-string">''</span></code>
<code></code>
<code>tagAlias =</code>
<code>  alias: <span class="hljs-string">'name'</span></code>
<code>  arg: <span class="hljs-string">'param'</span></code>
<code>  argument: <span class="hljs-string">'param'</span></code>
<code>  returns: <span class="hljs-string">'return'</span></code>
<code>  exception: <span class="hljs-string">'throws'</span></code>
<code>  fires: <span class="hljs-string">'event'</span></code>
<code>  constructor: <span class="hljs-string">'construct'</span></code>
<code><span class="hljs-function"><span class="hljs-title">optimize</span> = <span class="hljs-params">(doc, lang, file)</span> -&gt;</span></code>
<code>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">unless</span> lang</code>
<code>  md = doc[<span class="hljs-number">2</span>]</code>
<code>  code = doc[<span class="hljs-number">3</span>]</code>
<code>  <span class="hljs-comment"># extract tags</span></code>
<code>  spec = {}</code>
<code>  <span class="hljs-keyword">if</span> match = md.match <span class="hljs-regexp">/(?:(?:\n|[ \t\r]){2,}|\s*)(?=@)/</span></code>
<code>    add = md[match.index+match[<span class="hljs-number">0</span>].length..]</code>
<code>    md = <span class="hljs-keyword">if</span> match.index <span class="hljs-keyword">then</span> md[<span class="hljs-number">0.</span>.match.index<span class="hljs-number">-1</span>] + <span class="hljs-string">'\n'</span> <span class="hljs-keyword">else</span> <span class="hljs-string">''</span></code>
<code>    <span class="hljs-keyword">for</span> part <span class="hljs-keyword">in</span> add.split <span class="hljs-regexp">/(?:\n|[ \t\r])(?=@)/g</span></code>
<code>      <span class="hljs-keyword">if</span> match = part.match <span class="hljs-regexp">/^@(\S+)\s+/</span></code>
<code>        name = tagAlias[match[<span class="hljs-number">1</span>]] ? match[<span class="hljs-number">1</span>]</code>
<code>        spec[name] ?= []</code>
<code>        spec[name].push part[match[<span class="hljs-number">0</span>].length..]</code>
<code>  <span class="hljs-comment"># split some tags further down</span></code>
<code>  <span class="hljs-keyword">for</span> type <span class="hljs-keyword">in</span> [<span class="hljs-string">'return'</span>, <span class="hljs-string">'throws'</span>]</code>
<code>    <span class="hljs-keyword">if</span> spec[type]</code>
<code>      spec[type] = spec[type].map (e) -&gt;</code>
<code>        m = e.match <span class="hljs-regexp">/^(?:\s*\{(.+)\})\s*([\s\S]*)?$/</span></code>
<code>        <span class="hljs-keyword">if</span> m <span class="hljs-keyword">then</span> [m[<span class="hljs-number">1</span>], m[<span class="hljs-number">2</span>]] <span class="hljs-keyword">else</span> [<span class="hljs-literal">null</span>, spec[type]]</code>
<code>  <span class="hljs-keyword">for</span> type <span class="hljs-keyword">in</span> [<span class="hljs-string">'param'</span>, <span class="hljs-string">'event'</span>]</code>
<code>    <span class="hljs-keyword">if</span> spec[type]</code>
<code>      spec[type] = spec[type].map (e) -&gt;</code>
<code>        m = e.match <span class="hljs-regexp">/^(?:\s*\{(.+)\})\s*(\S+)(?:\s+(?:-\s*)?([\s\S]*))?$/</span></code>
<code>        <span class="hljs-keyword">if</span> m <span class="hljs-keyword">then</span> [m[<span class="hljs-number">1</span>], m[<span class="hljs-number">2</span>], m[<span class="hljs-number">3</span>]] <span class="hljs-keyword">else</span> [<span class="hljs-literal">null</span>, spec[type]]</code>
<code>  <span class="hljs-comment"># get title</span></code>
<code>  title = <span class="hljs-keyword">if</span> lang.title <span class="hljs-keyword">then</span> lang.title code <span class="hljs-keyword">else</span> code</code>
<code>  <span class="hljs-keyword">if</span> spec.name</code>
<code>    <span class="hljs-keyword">for</span> e <span class="hljs-keyword">in</span> spec.name</code>
<code>      title = e</code>
<code>  <span class="hljs-comment"># optimize spec with auto detect</span></code>
<code>  <span class="hljs-keyword">if</span> lang.access <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> spec.access</code>
<code>    spec.access = [access] <span class="hljs-keyword">if</span> access = lang.access code</code>
<code>  <span class="hljs-comment"># deprecation warning</span></code>
<code>  <span class="hljs-keyword">if</span> spec.deprecated</code>
<code>    md += <span class="hljs-string">"\n::: warning\n**Deprecated!** <span class="hljs-subst">#{spec.deprecated.join <span class="hljs-string">' '</span>}</span>\n:::\n"</span></code>
<code>  <span class="hljs-comment"># create usage line</span></code>
<code>  <span class="hljs-keyword">if</span> title <span class="hljs-keyword">and</span> (spec.access <span class="hljs-keyword">or</span> spec.private <span class="hljs-keyword">or</span> spec.protected <span class="hljs-keyword">or</span> spec.public <span class="hljs-keyword">or</span> spec.constant <span class="hljs-keyword">or</span></code>
<code>  spec.static <span class="hljs-keyword">or</span> spec.construct <span class="hljs-keyword">or</span> spec.param)</code>
<code>    md += <span class="hljs-string">"\n&gt; **Usage:** "</span></code>
<code>    <span class="hljs-keyword">if</span> spec.access</code>
<code>      md += <span class="hljs-string">"<span class="hljs-subst">#{util.array.last spec.access}</span> "</span></code>
<code>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> spec.private</code>
<code>      md += <span class="hljs-string">'private '</span></code>
<code>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> spec.protected</code>
<code>      md += <span class="hljs-string">'protected '</span></code>
<code>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> spec.public</code>
<code>      md += <span class="hljs-string">'public '</span></code>
<code>    md += <span class="hljs-string">'static '</span> <span class="hljs-keyword">if</span> spec.static</code>
<code>    md += <span class="hljs-string">'`'</span></code>
<code>    md += <span class="hljs-string">'const '</span> <span class="hljs-keyword">if</span> spec.constant</code>
<code>    md += <span class="hljs-string">'new '</span> <span class="hljs-keyword">if</span> spec.construct</code>
<code>    md += <span class="hljs-string">"<span class="hljs-subst">#{title}</span>`"</span></code>
<code>    <span class="hljs-keyword">if</span> spec.param</code>
<code>      md = md.replace <span class="hljs-regexp">/(\(\))?`$/</span>, <span class="hljs-string">''</span></code>
<code>      md += <span class="hljs-string">"(<span class="hljs-subst">#{spec.param.map((e) -&gt; e[<span class="hljs-number">1</span>]).join <span class="hljs-string">', '</span>}</span>)`\n"</span></code>
<code>    md += <span class="hljs-string">"\n&lt;!-- {p:.api-usage} --&gt;\n"</span></code>
<code>  <span class="hljs-comment"># method definitions</span></code>
<code>  <span class="hljs-keyword">if</span> spec.param</code>
<code>    md += <span class="hljs-string">"\nParameter\n:   "</span></code>
<code>    <span class="hljs-keyword">for</span> e <span class="hljs-keyword">in</span> spec.param</code>
<code>      md += <span class="hljs-string">"- "</span></code>
<code>      md += <span class="hljs-string">"`<span class="hljs-subst">#{e[<span class="hljs-number">1</span>]}</span>` - "</span> <span class="hljs-keyword">if</span> e[<span class="hljs-number">1</span>]</code>
<code>      md += <span class="hljs-string">"`<span class="hljs-subst">#{e[<span class="hljs-number">0</span>]}</span>` - "</span> <span class="hljs-keyword">if</span> e[<span class="hljs-number">0</span>]</code>
<code>      md += <span class="hljs-string">"<span class="hljs-subst">#{e[<span class="hljs-number">2</span>].replace <span class="hljs-regexp">/\n/g</span>, <span class="hljs-string">'\n      '</span>}</span>\n    "</span></code>
<code>  <span class="hljs-keyword">if</span> spec.<span class="hljs-keyword">return</span></code>
<code>    md += <span class="hljs-string">"\nReturn\n:   "</span></code>
<code>    md += <span class="hljs-string">"`<span class="hljs-subst">#{e[<span class="hljs-number">0</span>]}</span>` - "</span> <span class="hljs-keyword">if</span> e[<span class="hljs-number">0</span>]</code>
<code>    md += <span class="hljs-string">"<span class="hljs-subst">#{e[<span class="hljs-number">1</span>].replace <span class="hljs-string">'\n'</span>, <span class="hljs-string">'      \n'</span>}</span>\n"</span></code>
<code>  <span class="hljs-keyword">if</span> spec.throws</code>
<code>    md += <span class="hljs-string">"\nThrows\n:   "</span></code>
<code>    <span class="hljs-keyword">for</span> e <span class="hljs-keyword">in</span> spec.throws</code>
<code>      md += <span class="hljs-string">"- "</span></code>
<code>      md += <span class="hljs-string">"`<span class="hljs-subst">#{e[<span class="hljs-number">0</span>]}</span>` - "</span> <span class="hljs-keyword">if</span> e[<span class="hljs-number">0</span>]</code>
<code>      md += <span class="hljs-string">"<span class="hljs-subst">#{e[<span class="hljs-number">1</span>].replace <span class="hljs-string">'\n'</span>, <span class="hljs-string">'      \n'</span>}</span>\n    "</span></code>
<code>  <span class="hljs-keyword">if</span> spec.event</code>
<code>    md += <span class="hljs-string">"\nEvent\n:   "</span></code>
<code>    <span class="hljs-keyword">for</span> e <span class="hljs-keyword">in</span> spec.event</code>
<code>      md += <span class="hljs-string">"- "</span></code>
<code>      md += <span class="hljs-string">"`<span class="hljs-subst">#{e[<span class="hljs-number">1</span>]}</span>` - "</span> <span class="hljs-keyword">if</span> e[<span class="hljs-number">1</span>]</code>
<code>      md += <span class="hljs-string">"`<span class="hljs-subst">#{e[<span class="hljs-number">0</span>]}</span>` - "</span> <span class="hljs-keyword">if</span> e[<span class="hljs-number">0</span>]</code>
<code>      md += <span class="hljs-string">"<span class="hljs-subst">#{e[<span class="hljs-number">2</span>].replace <span class="hljs-string">'\n'</span>, <span class="hljs-string">'      \n'</span>}</span>\n    "</span></code>
<code>  <span class="hljs-keyword">if</span> spec.see</code>
<code>    md += <span class="hljs-string">"\nSee also\n:   "</span></code>
<code>    <span class="hljs-keyword">for</span> e <span class="hljs-keyword">in</span> spec.see</code>
<code>      md += <span class="hljs-string">"- "</span></code>
<code>      md += <span class="hljs-string">"<span class="hljs-subst">#{e.replace <span class="hljs-string">'\n'</span>, <span class="hljs-string">'      \n'</span>}</span>\n    "</span></code>
<code>  <span class="hljs-keyword">if</span> spec.param <span class="hljs-keyword">or</span> spec.<span class="hljs-keyword">return</span> <span class="hljs-keyword">or</span> spec.throws <span class="hljs-keyword">or</span> spec.event <span class="hljs-keyword">or</span> spec.see</code>
<code>    md += <span class="hljs-string">"\n&lt;!-- {dl:.api-spec} --&gt;\n"</span></code>
<code>  <span class="hljs-comment"># signature</span></code>
<code>  <span class="hljs-keyword">if</span> spec.version <span class="hljs-keyword">or</span> spec.copyright <span class="hljs-keyword">or</span> spec.author <span class="hljs-keyword">or</span> spec.license</code>
<code>    md += <span class="hljs-string">"\n"</span></code>
<code>    <span class="hljs-keyword">for</span> type <span class="hljs-keyword">in</span> [<span class="hljs-string">'version'</span>, <span class="hljs-string">'copyright'</span>, <span class="hljs-string">'author'</span>]</code>
<code>      <span class="hljs-keyword">if</span> spec[type]</code>
<code>        md += <span class="hljs-string">"<span class="hljs-subst">#{spec[type].join <span class="hljs-string">' '</span>}</span> "</span></code>
<code>    <span class="hljs-keyword">if</span> spec.license</code>
<code>      md += <span class="hljs-string">"- License: <span class="hljs-subst">#{spec.license.join <span class="hljs-string">' '</span>}</span> "</span></code>
<code>    md += <span class="hljs-string">"\n\n&lt;!-- {p:.api-signator} --&gt;\n"</span></code>
<code>  <span class="hljs-comment"># replace inline tags</span></code>
<code>  <span class="hljs-comment"># {@link}</span></code>
<code></code>
<code>  <span class="hljs-comment"># add heading 3 if not there</span></code>
<code>  <span class="hljs-keyword">if</span> title <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> md.match <span class="hljs-regexp">/(^|\n)(#{1,3}[^#]|[^\n]+\n[-=]{3,})/</span></code>
<code>    md = <span class="hljs-string">"### <span class="hljs-subst">#{title}</span>\n\n<span class="hljs-subst">#{md}</span>"</span></code>
<code>  <span class="hljs-comment"># store changes</span></code>
<code>  doc[<span class="hljs-number">2</span>] = md</code></pre>

        </div>
        <div class="col-sm-3 col-cm-pull-9 col-md-2 col-md-pull-10 sidebar">
          <h1 id="further-pages">Further Pages</h1>
          <ul class="nav nav-sidebar">
            <li class="header">
              <a href="../README.md.html">CodeDoc</a>
            </li>
                <li class="level0">
                  <a href="../README.md.html" title="Alinex CodeDoc: Readme (/README.md)">Readme</a>
                </li>
                <li class="level2">
                  <a href="man/codedoc.1.md.html" title="codedoc(1) - Manpage (/src/man/codedoc.1.md)">Manpage</a>
                </li>
                <li class="level1">
                  <a href="document.md.html" title="Writing Docs (/src/document.md)">Writing Docs</a>
                </li>
                <li class="level1">
                  <a href="template.md.html" title="Templates (/src/template.md)">Templates</a>
                </li>
                <li class="active level1">
                  <a href="index.coffee.html" title="Controller (/src/index.coffee)">Controller <span class="sr-only">(current)</span></a>
                </li>
                <li class="level1">
                  <a href="cli.coffee.html" title="CLI Parser (/src/cli.coffee)">CLI Parser</a>
                </li>
                <li class="level1">
                  <a href="language.coffee.html" title="Language Definition (/src/language.coffee)">Language Definition</a>
                </li>
                <li class="level0">
                  <a href="../coffeelint.json.html" title="File: coffeelint.json (/coffeelint.json)">coffeelint.json</a>
                </li>
                <li class="level0">
                  <a href="../package.json.html" title="File: package.json (/package.json)">package.json</a>
                </li>
                <li class="level1">
                  <a href="../bin/codedoc.html" title="Executable (/bin/codedoc)">Executable</a>
                </li>
                <li class="level4">
                  <a href="../var/src/template/report/codedoc-links.hbs.html" title="File: codedoc-links.hbs (/var/src/template/report/codedoc-links.hbs)">codedoc-links.hbs</a>
                </li>
                <li class="level4">
                  <a href="../var/src/template/report/codedoc-logo.hbs.html" title="File: codedoc-logo.hbs (/var/src/template/report/codedoc-logo.hbs)">codedoc-logo.hbs</a>
                </li>
                <li class="level4">
                  <a href="../var/src/template/report/codedoc-search-result.hbs.html" title="File: codedoc-search-result.hbs (/var/src/template/report/codedoc-search-result.hbs)">codedoc-search-result.hbs</a>
                </li>
                <li class="level4">
                  <a href="../var/src/template/report/codedoc.css.html" title="File: codedoc.css (/var/src/template/report/codedoc.css)">codedoc.css</a>
                </li>
                <li class="level4">
                  <a href="../var/src/template/report/codedoc.hbs.html" title="File: codedoc.hbs (/var/src/template/report/codedoc.hbs)">codedoc.hbs</a>
                </li>
                <li class="level4">
                  <a href="../var/src/template/report/codedoc.styl.html" title="codedoc Style (/var/src/template/report/codedoc.styl)">codedoc Style</a>
                </li>
                <li class="level0">
                  <a href="../.travis.yml.html" title="File: .travis.yml (/.travis.yml)">.travis.yml</a>
                </li>
                <li class="level0">
                  <a href="../Changelog.md.html" title="Version changes (/Changelog.md)">Version changes</a>
                </li>
          </ul>
        </div>

      </div>
    </div>

    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script type="text/javascript"><!--
    $(".table-of-contents").bind("mouseleave", function(event) { $(".table-of-contents").scrollTop(0); });
    //--></script>
  </body>
</html>
