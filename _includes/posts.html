<div class="posts">

  <h4>Last Posts</h4>

  {% for post in site.posts limit: 5 %}
  <p><a href="{{ post.url }}">{{ post.title }}</a></p>
  {% endfor %}

  <!-- collect tags -->
  {% capture tags %}
    {% for tag in site.tags %}
      {{ tag[0] }}
    {% endfor %}
  {% endcapture %}
  {% assign sortedtags = tags | split:' ' | sort %}

  <script>
  switchTag = function (tag) {
    val = document.getElementById('tag4'+tag).style.display == 'block' ? 'none' : 'block';
    document.getElementById('tag4'+tag).style.display = val;
  }
  </script>

  <h4>Posts by Tag</h4>

  <p>
    {% for tag in sortedtags %}
      <a onclick="">{{ tag }}</a>
    {% endfor %}
  </p>

  {% for tag in sortedtags %}
    <div id="tag4{{ tag }}" style="display:none">
    <h4>Posts for {{ tag }}</h4>
    {% for post in site.tags[tag] %}
      <p><a href="{{ post.url }}">{{ post.title }}</a></p>
    {% endfor %}
    </div>
  {% endfor %}

</div>